2019-03-06 22:03:26,742 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-06 22:03:32,825 - proxy_sever_test - post - 165 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json 
2019-03-06 22:03:32,827 - proxy_sever_test - post - 173 - INFO - account balance: 535625.0
2019-03-06 22:03:32,827 - proxy_sever_test - post - 181 - INFO - reqeust_body: b'-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="sign"\r\n\r\n32afdda7bc0685e29b7cf2369aa660e3\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="ver"\r\n\r\n1.0\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="command"\r\n\r\n3004\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="token"\r\n\r\nf2c99b55731732bd18a203aa999a2f06\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="timestamp"\r\n\r\n1551881012\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="openid"\r\n\r\n\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="param"\r\n\r\n{"appid":"35385640507","secret":"a14c4ab485a60833fe09064e27ae013e","merchantCode":"35385640507","merchantName":"\\u7f8e\\u56e2\\u8ba2\\u7968\\u7cfb\\u7edf","bizNo":"20190302","bizType":"DP","bizName":"\\u8ba2\\u7968","bizBrief":"\\u7528\\u6237\\u8ba2\\u7968","bizTime":"2019-03-06 02:03:32","orderNo":"0000000","orderType":"0","orderDate":"2019-03-06","fromStation":"\\u897f\\u5b89","toStation":"\\u5317\\u4eac\\u897f","trainCode":"G666","trainType":"G","seatType":"0","startTime":"2019-03-07 12:00:00","endTime":"2019-03-07 12:00:00","ticketTime":"2019-03-07 12:00:00","ticketType":"1","noSeatFlag":"Y","ticketNum":"1","idType":"1","idNo":"1:440101200702060011","IdName":"\\u5f20\\u4e09","ticketPrices":"68.5","couponValue":"50.0","bonusFlag":"2.0","serviceFee":"5.0","insureFee":"3.0","expressFee":"10.0","payType":"1","userId":"1111","address":"\\u9655\\u897f\\u6e2d\\u5357","requestID":"20190302","ticketObtainMode":"1","officeId":"2","ticketTakpePoint":"1","reserved":"\\u9884\\u7559","haiNum":0,"allocationFlag":"Y","remark":"\\u5907\\u6ce8"}\r\n-------------------------------7d83e2d7a141e--\r\n' 
2019-03-06 22:03:32,828 - proxy_sever_test - post - 190 - INFO - trans_balance: 5363000.0
2019-03-06 22:03:32,828 - proxy_sever_test - post - 197 - INFO - lock_balance: b'535625.0'
2019-03-06 22:03:32,828 - proxy_sever_test - post - 204 - INFO - ticket_prices: 68.500000
2019-03-06 22:03:33,114 - proxy_sever_test - post - 218 - INFO - resp_headers: Server: nginx/1.13.7
Date: Wed, 06 Mar 2019 14:03:33 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-06 22:03:33,115 - proxy_sever_test - post - 219 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551881013049","ver":"1.0","sign":"62e326fbb0959ca3486b93f6064179b0","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n"}'
2019-03-06 22:03:33,117 - proxy_sever_test - post - 165 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json 
2019-03-06 22:03:33,119 - proxy_sever_test - post - 173 - INFO - account balance: 535625.0
2019-03-06 22:03:33,119 - proxy_sever_test - post - 181 - INFO - reqeust_body: b'-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="sign"\r\n\r\n32afdda7bc0685e29b7cf2369aa660e3\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="ver"\r\n\r\n1.0\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="command"\r\n\r\n3004\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="token"\r\n\r\nf2c99b55731732bd18a203aa999a2f06\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="timestamp"\r\n\r\n1551881012\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="openid"\r\n\r\n\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="param"\r\n\r\n{"appid":"35385640507","secret":"a14c4ab485a60833fe09064e27ae013e","merchantCode":"35385640507","merchantName":"\\u7f8e\\u56e2\\u8ba2\\u7968\\u7cfb\\u7edf","bizNo":"20190302","bizType":"DP","bizName":"\\u8ba2\\u7968","bizBrief":"\\u7528\\u6237\\u8ba2\\u7968","bizTime":"2019-03-06 02:03:32","orderNo":"0000000","orderType":"0","orderDate":"2019-03-06","fromStation":"\\u897f\\u5b89","toStation":"\\u5317\\u4eac\\u897f","trainCode":"G666","trainType":"G","seatType":"0","startTime":"2019-03-07 12:00:00","endTime":"2019-03-07 12:00:00","ticketTime":"2019-03-07 12:00:00","ticketType":"1","noSeatFlag":"Y","ticketNum":"1","idType":"1","idNo":"1:440101200702060011","IdName":"\\u5f20\\u4e09","ticketPrices":"68.5","couponValue":"50.0","bonusFlag":"2.0","serviceFee":"5.0","insureFee":"3.0","expressFee":"10.0","payType":"1","userId":"1111","address":"\\u9655\\u897f\\u6e2d\\u5357","requestID":"20190302","ticketObtainMode":"1","officeId":"2","ticketTakpePoint":"1","reserved":"\\u9884\\u7559","haiNum":0,"allocationFlag":"Y","remark":"\\u5907\\u6ce8"}\r\n-------------------------------7d83e2d7a141e--\r\n' 
2019-03-06 22:03:33,119 - proxy_sever_test - post - 190 - INFO - trans_balance: 5362931.5
2019-03-06 22:03:33,120 - proxy_sever_test - post - 197 - INFO - lock_balance: b'535625.0'
2019-03-06 22:03:33,120 - proxy_sever_test - post - 204 - INFO - ticket_prices: 68.500000
2019-03-06 22:03:33,370 - proxy_sever_test - post - 218 - INFO - resp_headers: Server: nginx/1.13.7
Date: Wed, 06 Mar 2019 14:03:33 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-06 22:03:33,370 - proxy_sever_test - post - 219 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551881013320","ver":"1.0","sign":"dd992e62645265d43a7462c09a58635d","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n"}'
2019-03-06 22:03:39,579 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-06 22:03:41,416 - proxy_sever_test - post - 165 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json 
2019-03-06 22:03:41,418 - proxy_sever_test - post - 173 - INFO - account balance: 535625.0
2019-03-06 22:03:41,418 - proxy_sever_test - post - 181 - INFO - reqeust_body: b'-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="sign"\r\n\r\n1762b3a5dbe511c6e9d687a7f002b3fc\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="ver"\r\n\r\n1.0\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="command"\r\n\r\n3004\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="token"\r\n\r\nf2c99b55731732bd18a203aa999a2f06\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="timestamp"\r\n\r\n1551881021\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="openid"\r\n\r\n\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="param"\r\n\r\n{"appid":"35385640507","secret":"a14c4ab485a60833fe09064e27ae013e","merchantCode":"35385640507","merchantName":"\\u7f8e\\u56e2\\u8ba2\\u7968\\u7cfb\\u7edf","bizNo":"20190302","bizType":"DP","bizName":"\\u8ba2\\u7968","bizBrief":"\\u7528\\u6237\\u8ba2\\u7968","bizTime":"2019-03-06 02:03:41","orderNo":"0000000","orderType":"0","orderDate":"2019-03-06","fromStation":"\\u897f\\u5b89","toStation":"\\u5317\\u4eac\\u897f","trainCode":"G666","trainType":"G","seatType":"0","startTime":"2019-03-07 12:00:00","endTime":"2019-03-07 12:00:00","ticketTime":"2019-03-07 12:00:00","ticketType":"1","noSeatFlag":"Y","ticketNum":"1","idType":"1","idNo":"1:440101200702060011","IdName":"\\u5f20\\u4e09","ticketPrices":"68.5","couponValue":"50.0","bonusFlag":"2.0","serviceFee":"5.0","insureFee":"3.0","expressFee":"10.0","payType":"1","userId":"1111","address":"\\u9655\\u897f\\u6e2d\\u5357","requestID":"20190302","ticketObtainMode":"1","officeId":"2","ticketTakpePoint":"1","reserved":"\\u9884\\u7559","haiNum":0,"allocationFlag":"Y","remark":"\\u5907\\u6ce8"}\r\n-------------------------------7d83e2d7a141e--\r\n' 
2019-03-06 22:03:41,419 - proxy_sever_test - post - 190 - INFO - trans_balance: 5362863.0
2019-03-06 22:03:41,419 - proxy_sever_test - post - 197 - INFO - lock_balance: b'535625.0'
2019-03-06 22:03:41,419 - proxy_sever_test - post - 204 - INFO - ticket_prices: 68.500000
2019-03-06 22:03:41,698 - proxy_sever_test - post - 218 - INFO - resp_headers: Server: nginx/1.13.7
Date: Wed, 06 Mar 2019 14:03:41 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-06 22:03:41,698 - proxy_sever_test - post - 219 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551881021642","ver":"1.0","sign":"74475d0011985c7487241a84542e2696","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n"}'
2019-03-06 22:03:41,701 - proxy_sever_test - post - 165 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json 
2019-03-06 22:03:41,703 - proxy_sever_test - post - 173 - INFO - account balance: 535625.0
2019-03-06 22:03:41,704 - proxy_sever_test - post - 181 - INFO - reqeust_body: b'-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="sign"\r\n\r\n1762b3a5dbe511c6e9d687a7f002b3fc\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="ver"\r\n\r\n1.0\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="command"\r\n\r\n3004\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="token"\r\n\r\nf2c99b55731732bd18a203aa999a2f06\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="timestamp"\r\n\r\n1551881021\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="openid"\r\n\r\n\r\n-------------------------------7d83e2d7a141e\r\nContent-Disposition: form-data; name="param"\r\n\r\n{"appid":"35385640507","secret":"a14c4ab485a60833fe09064e27ae013e","merchantCode":"35385640507","merchantName":"\\u7f8e\\u56e2\\u8ba2\\u7968\\u7cfb\\u7edf","bizNo":"20190302","bizType":"DP","bizName":"\\u8ba2\\u7968","bizBrief":"\\u7528\\u6237\\u8ba2\\u7968","bizTime":"2019-03-06 02:03:41","orderNo":"0000000","orderType":"0","orderDate":"2019-03-06","fromStation":"\\u897f\\u5b89","toStation":"\\u5317\\u4eac\\u897f","trainCode":"G666","trainType":"G","seatType":"0","startTime":"2019-03-07 12:00:00","endTime":"2019-03-07 12:00:00","ticketTime":"2019-03-07 12:00:00","ticketType":"1","noSeatFlag":"Y","ticketNum":"1","idType":"1","idNo":"1:440101200702060011","IdName":"\\u5f20\\u4e09","ticketPrices":"68.5","couponValue":"50.0","bonusFlag":"2.0","serviceFee":"5.0","insureFee":"3.0","expressFee":"10.0","payType":"1","userId":"1111","address":"\\u9655\\u897f\\u6e2d\\u5357","requestID":"20190302","ticketObtainMode":"1","officeId":"2","ticketTakpePoint":"1","reserved":"\\u9884\\u7559","haiNum":0,"allocationFlag":"Y","remark":"\\u5907\\u6ce8"}\r\n-------------------------------7d83e2d7a141e--\r\n' 
2019-03-06 22:03:41,704 - proxy_sever_test - post - 190 - INFO - trans_balance: 5362794.5
2019-03-06 22:03:41,704 - proxy_sever_test - post - 197 - INFO - lock_balance: b'535625.0'
2019-03-06 22:03:41,704 - proxy_sever_test - post - 204 - INFO - ticket_prices: 68.500000
2019-03-06 22:03:41,890 - proxy_sever_test - post - 218 - INFO - resp_headers: Server: nginx/1.13.7
Date: Wed, 06 Mar 2019 14:03:41 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-06 22:03:41,891 - proxy_sever_test - post - 219 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551881021845","ver":"1.0","sign":"527d83e77165a9a5ca4a952153d828e1","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n"}'

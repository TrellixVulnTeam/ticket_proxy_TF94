2019-03-04 11:03:17,250 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:03:28,408 - proxy_sever_test - post - 169 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:03:28,924 - proxy_sever_test - post - 200 - INFO - resp_headers: Server: nginx/1.13.7
Date: Mon, 04 Mar 2019 03:03:28 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-04 11:03:28,924 - proxy_sever_test - post - 201 - INFO - resp_data: b'{"code":"FAIL","command":"3007","timestamp":"1551668608908","ver":"1.0","sign":"7becfd1adc08f66b65c2549d0306bcdf","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81null","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81null"}'
2019-03-04 11:03:28,925 - proxy_sever_test - post - 219 - INFO - hdata: {'uid': 'for_test', 'merchantCode': '35385640507', 'merchantName': '美团', 'bizNo': '20190302', 'bizName': 'cancel_ticket', 'bizType': 'DPQX', 'orderId': '0000000', 'requestID': '20191224', 'cancelStatus': 1, 'update_Time': '2019-03-04 11:03:28'}
2019-03-04 11:03:28,935 - proxy_sever_test - post - 240 - INFO - cost time: 0:00:00.527352
2019-03-04 11:12:16,022 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:12:17,799 - proxy_sever_test - post - 169 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:12:17,804 - proxy_sever_test - process_request_orderId - 59 - ERROR - not found uid:for_test orderid:0000000
2019-03-04 11:12:55,224 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:12:58,623 - proxy_sever_test - post - 169 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:12:58,627 - proxy_sever_test - process_request_orderId - 59 - ERROR - not found uid:for_test orderid:0000000
2019-03-04 11:13:56,853 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:13:58,978 - proxy_sever_test - post - 169 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:13:58,984 - proxy_sever_test - process_request_orderId - 59 - ERROR - not found uid:for_test orderid:0000000
2019-03-04 11:16:16,495 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:16:21,055 - proxy_sever_test - post - 170 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:16:21,058 - proxy_sever_test - process_request_orderId - 60 - ERROR - not found uid:for_test orderid:0000000
2019-03-04 11:28:59,439 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:29:03,943 - proxy_sever_test - post - 182 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:29:03,947 - proxy_sever_test - process_request_balance - 70 - INFO - final balance: 535216.500000
2019-03-04 11:29:04,253 - proxy_sever_test - post - 207 - INFO - resp_headers: Server: nginx/1.13.7
Date: Mon, 04 Mar 2019 03:29:04 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-04 11:29:04,253 - proxy_sever_test - post - 208 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551670144193","ver":"1.0","sign":"f0b5099cade0fdc71cad3f347b74b1cd","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 57 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 57 more\\n"}'
2019-03-04 11:29:04,256 - proxy_sever_test - post - 224 - INFO - hdata: {'uid': 'for_test', 'errmsg': "申请订票失败！org.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\norg.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\n\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\n\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\n\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\n\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\n\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\n\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\n\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\n\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\n\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\n\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\n\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\n\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\n\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\n\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\n\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\n\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\n\tat com.sun.proxy.$Proxy82.update(Unknown Source)\n\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\n\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\n\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\n\t... 57 more\n", 'status': 0, 'merchantCode': '35385640507', 'merchantName': '美团订票系统', 'bizNo': '20190302', 'bizName': '订票', 'orderDate': '2019-03-04', 'orderNo': '0000000', 'ticketPrices': '68.5', 'requestID': '20190302', 'updateTime': '2019-03-04 11:29:04'}
2019-03-04 11:29:04,267 - proxy_sever_test - post - 242 - INFO - cost time: 0:00:00.323904
2019-03-04 11:29:16,247 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:29:18,679 - proxy_sever_test - post - 182 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:29:18,683 - proxy_sever_test - process_request_balance - 70 - INFO - final balance: 535216.500000
2019-03-04 11:29:18,875 - proxy_sever_test - post - 207 - INFO - resp_headers: Server: nginx/1.13.7
Date: Mon, 04 Mar 2019 03:29:18 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-04 11:29:18,875 - proxy_sever_test - post - 208 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551670158820","ver":"1.0","sign":"10b24dfce3302f6a15bffe047eeb5ad4","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 57 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 57 more\\n"}'
2019-03-04 11:29:18,900 - proxy_sever_test - post - 224 - INFO - hdata: {'uid': 'for_test', 'errmsg': "申请订票失败！org.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\norg.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\n\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\n\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\n\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\n\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\n\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\n\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\n\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\n\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\n\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\n\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\n\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\n\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\n\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\n\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\n\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\n\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\n\tat com.sun.proxy.$Proxy82.update(Unknown Source)\n\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\n\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\n\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\n\t... 57 more\n", 'status': 0, 'merchantCode': '35385640507', 'merchantName': '美团订票系统', 'bizNo': '20190302', 'bizName': '订票', 'orderDate': '2019-03-04', 'orderNo': '0000000', 'ticketPrices': '68.5', 'requestID': '20190302', 'updateTime': '2019-03-04 11:29:18'}
2019-03-04 11:29:18,910 - proxy_sever_test - post - 242 - INFO - cost time: 0:00:00.231529
2019-03-04 11:31:13,660 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:31:15,231 - proxy_sever_test - post - 181 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:31:15,236 - proxy_sever_test - process_request_balance - 69 - INFO - final balance: 535216.500000
2019-03-04 11:31:15,389 - proxy_sever_test - post - 206 - INFO - resp_headers: Server: nginx/1.13.7
Date: Mon, 04 Mar 2019 03:31:15 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-04 11:31:15,389 - proxy_sever_test - post - 207 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551670275304","ver":"1.0","sign":"d185b472fc8cad6efdf84e7a2bd2fbdc","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 57 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 57 more\\n"}'
2019-03-04 11:31:15,391 - proxy_sever_test - post - 223 - INFO - hdata: {'uid': 'for_test', 'errmsg': "申请订票失败！org.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\norg.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\n\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\n\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\n\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\n\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\n\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\n\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\n\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\n\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\n\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\n\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\n\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\n\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\n\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\n\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\n\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\n\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\n\tat com.sun.proxy.$Proxy82.update(Unknown Source)\n\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\n\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\n\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\n\t... 57 more\n", 'status': 0, 'merchantCode': '35385640507', 'merchantName': '美团订票系统', 'bizNo': '20190302', 'bizName': '订票', 'orderDate': '2019-03-04', 'orderNo': '0000000', 'ticketPrices': '68.5', 'requestID': '20190302', 'updateTime': '2019-03-04 11:31:15'}
2019-03-04 11:31:15,408 - proxy_sever_test - post - 241 - INFO - cost time: 0:00:00.176858
2019-03-04 11:31:19,966 - proxy_sever_test - post - 181 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:31:19,970 - proxy_sever_test - process_request_balance - 69 - INFO - final balance: 535216.500000
2019-03-04 11:31:20,183 - proxy_sever_test - post - 206 - INFO - resp_headers: Server: nginx/1.13.7
Date: Mon, 04 Mar 2019 03:31:20 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-04 11:31:20,183 - proxy_sever_test - post - 207 - INFO - resp_data: b'{"code":"FAIL","command":"3004","timestamp":"1551670280132","ver":"1.0","sign":"e945df20d80a7c4df12e53b03f47ff21","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81org.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\norg.springframework.dao.DuplicateKeyException: \\n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\\n### The error occurred while setting parameters\\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n; SQL []; Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\\n\\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\\n\\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\\n\\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\\n\\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\\n\\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\\n\\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\\n\\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\\n\\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\\n\\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\\n\\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\\n\\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\\n\\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\\n\\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\\n\\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\\n\\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\\n\\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\\n\\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\\n\\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\\n\\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\\n\\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\\n\\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\\n\\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\\n\\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\\n\\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\\n\\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\\n\\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\\n\\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\\n\\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry \'35385640507-20190302\' for key \'\xe5\x95\x86\xe6\x88\xb7\xe4\xbf\xa1\xe6\x81\xaf\xe7\xb4\xa2\xe5\xbc\x95\'\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\\n\\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\\n\\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\\n\\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\\n\\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\\n\\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\\n\\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\\n\\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\\n\\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\\n\\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\\n\\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\\n\\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\\n\\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\\n\\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\\n\\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\\n\\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\\n\\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\\n\\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\\n\\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\\n\\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\\n\\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\\n\\tat com.sun.proxy.$Proxy82.update(Unknown Source)\\n\\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\\n\\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\\n\\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\\n\\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\\n\\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\\n\\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.lang.reflect.Method.invoke(Method.java:498)\\n\\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\\n\\t... 56 more\\n"}'
2019-03-04 11:31:20,185 - proxy_sever_test - post - 223 - INFO - hdata: {'uid': 'for_test', 'errmsg': "申请订票失败！org.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\norg.springframework.dao.DuplicateKeyException: \n### Error updating database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n### The error may involve com.xa.eb.orderticket.dao.OrderTicketApplyMapper.insertSelective-Inline\n### The error occurred while setting parameters\n### SQL: insert into order_ticket_apply      ( merchant_code,                       merchant_name,                       biz_no,                       biz_type,                       biz_name,                       biz_brief,                       biz_time,                       order_no,                       order_type,                       from_station,                       to_station,                       train_code,                       train_type,                                     seat_type,                       start_time,                       end_time,                       ticket_time,                       ticket_type,                       no_seat_flag,                              ticket_num,                       hai_num,                       id_type,                       id_no,                       id_name,                       ticket_prices,                       coupon_value,                       bonus_flag,                       service_fee,                       insure_fee,                       pay_type,                       user_id,                              request_id,                       flow_id,                       order_status,                                     create_time,                       update_time,                       remark,                                            express_fee,                                                   ticket_obtain_mode,                       office_id,                              reserved,                                                                                                           insure_fee_num,                       service_fee_num,                       express_fee_num )       values ( ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                       ?,                              ?,                       ?,                       ?,                                     ?,                       ?,                       ?,                                            ?,                                                   ?,                       ?,                              ?,                                                                                                           ?,                       ?,                       ? )\n### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n; SQL []; Duplicate entry '35385640507-20190302' for key '商户信息索引'; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\n\tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)\n\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:421)\n\tat com.sun.proxy.$Proxy67.insert(Unknown Source)\n\tat org.mybatis.spring.SqlSessionTemplate.insert(SqlSessionTemplate.java:254)\n\tat org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:52)\n\tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)\n\tat com.sun.proxy.$Proxy68.insertSelective(Unknown Source)\n\tat sun.reflect.GeneratedMethodAccessor309.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:136)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n\tat com.sun.proxy.$Proxy70.insertSelective(Unknown Source)\n\tat com.xa.eb.orderticket.component.OrderTicketApplyComponent.saveOrderTicketApplyInfo(OrderTicketApplyComponent.java:22)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl.saveOrderTicketApply(OrderTicketApplyServiceImpl.java:90)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$FastClassBySpringCGLIB$$6a0b4439.invoke(<generated>)\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n\tat com.xa.eb.orderticket.service.impl.OrderTicketApplyServiceImpl$$EnhancerBySpringCGLIB$$a76dac00.saveOrderTicketApply(<generated>)\n\tat com.alibaba.dubbo.common.bytecode.Wrapper2.invokeMethod(Wrapper2.java)\n\tat com.alibaba.dubbo.rpc.proxy.javassist.JavassistProxyFactory$1.doInvoke(JavassistProxyFactory.java:46)\n\tat com.alibaba.dubbo.rpc.proxy.AbstractProxyInvoker.invoke(AbstractProxyInvoker.java:72)\n\tat com.alibaba.dubbo.config.invoker.DelegateProviderMetaDataInvoker.invoke(DelegateProviderMetaDataInvoker.java:36)\n\tat com.alibaba.dubbo.rpc.protocol.InvokerWrapper.invoke(InvokerWrapper.java:53)\n\tat com.alibaba.dubbo.rpc.filter.ExceptionFilter.invoke(ExceptionFilter.java:64)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.monitor.support.MonitorFilter.invoke(MonitorFilter.java:75)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.TimeoutFilter.invoke(TimeoutFilter.java:42)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.filter.TraceFilter.invoke(TraceFilter.java:78)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ContextFilter.invoke(ContextFilter.java:61)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.GenericFilter.invoke(GenericFilter.java:132)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.ClassLoaderFilter.invoke(ClassLoaderFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.filter.EchoFilter.invoke(EchoFilter.java:38)\n\tat com.alibaba.dubbo.rpc.protocol.ProtocolFilterWrapper$1.invoke(ProtocolFilterWrapper.java:69)\n\tat com.alibaba.dubbo.rpc.protocol.dubbo.DubboProtocol$1.reply(DubboProtocol.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.handleRequest(HeaderExchangeHandler.java:98)\n\tat com.alibaba.dubbo.remoting.exchange.support.header.HeaderExchangeHandler.received(HeaderExchangeHandler.java:170)\n\tat com.alibaba.dubbo.remoting.transport.DecodeHandler.received(DecodeHandler.java:52)\n\tat com.alibaba.dubbo.remoting.transport.dispatcher.ChannelEventRunnable.run(ChannelEventRunnable.java:81)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '35385640507-20190302' for key '商户信息索引'\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n\tat com.mysql.jdbc.Util.handleNewInstance(Util.java:425)\n\tat com.mysql.jdbc.Util.getInstance(Util.java:408)\n\tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)\n\tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)\n\tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)\n\tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)\n\tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2487)\n\tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)\n\tat com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2925)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterEventAdapter.preparedStatement_execute(FilterEventAdapter.java:440)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.filter.FilterAdapter.preparedStatement_execute(FilterAdapter.java:1041)\n\tat com.alibaba.druid.filter.FilterChainImpl.preparedStatement_execute(FilterChainImpl.java:2923)\n\tat com.alibaba.druid.proxy.jdbc.PreparedStatementProxyImpl.execute(PreparedStatementProxyImpl.java:90)\n\tat com.alibaba.druid.pool.DruidPooledPreparedStatement.execute(DruidPooledPreparedStatement.java:448)\n\tat sun.reflect.GeneratedMethodAccessor34.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)\n\tat com.sun.proxy.$Proxy84.execute(Unknown Source)\n\tat org.apache.ibatis.executor.statement.PreparedStatementHandler.update(PreparedStatementHandler.java:45)\n\tat org.apache.ibatis.executor.statement.RoutingStatementHandler.update(RoutingStatementHandler.java:73)\n\tat sun.reflect.GeneratedMethodAccessor312.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.apache.ibatis.plugin.Plugin.invoke(Plugin.java:63)\n\tat com.sun.proxy.$Proxy82.update(Unknown Source)\n\tat org.apache.ibatis.executor.SimpleExecutor.doUpdate(SimpleExecutor.java:49)\n\tat org.apache.ibatis.executor.BaseExecutor.update(BaseExecutor.java:115)\n\tat org.apache.ibatis.executor.CachingExecutor.update(CachingExecutor.java:75)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.update(DefaultSqlSession.java:170)\n\tat org.apache.ibatis.session.defaults.DefaultSqlSession.insert(DefaultSqlSession.java:157)\n\tat sun.reflect.GeneratedMethodAccessor310.invoke(Unknown Source)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:408)\n\t... 56 more\n", 'status': 0, 'merchantCode': '35385640507', 'merchantName': '美团订票系统', 'bizNo': '20190302', 'bizName': '订票', 'orderDate': '2019-03-04', 'orderNo': '0000000', 'ticketPrices': '68.5', 'requestID': '20190302', 'updateTime': '2019-03-04 11:31:20'}
2019-03-04 11:31:20,205 - proxy_sever_test - post - 241 - INFO - cost time: 0:00:00.238690
2019-03-04 11:31:52,633 - proxy_sever_test - connect - 55 - INFO - redis connect is ok!
2019-03-04 11:32:05,133 - proxy_sever_test - post - 170 - INFO - ticket uid: for_test url: https://www.xt-kp.com/Ticket/reqOrderTicket.json
2019-03-04 11:32:05,410 - proxy_sever_test - post - 201 - INFO - resp_headers: Server: nginx/1.13.7
Date: Mon, 04 Mar 2019 03:32:05 GMT
Content-Type: application/json;charset=UTF-8
Transfer-Encoding: chunked
Connection: close
X-Application-Context: orderticket-config-wi:8081


2019-03-04 11:32:05,410 - proxy_sever_test - post - 202 - INFO - resp_data: b'{"code":"FAIL","command":"3007","timestamp":"1551670325391","ver":"1.0","sign":"acce297063b67b8a1d776bc75bf459fd","errcode":"FAIL","errmsg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81null","msg":"\xe7\x94\xb3\xe8\xaf\xb7\xe8\xae\xa2\xe7\xa5\xa8\xe5\xa4\xb1\xe8\xb4\xa5\xef\xbc\x81null"}'
2019-03-04 11:32:05,411 - proxy_sever_test - post - 220 - INFO - hdata: {'uid': 'for_test', 'merchantCode': '35385640507', 'merchantName': '美团', 'bizNo': '20190302', 'bizName': 'cancel_ticket', 'bizType': 'DPQX', 'orderId': '0000000', 'requestID': '20191224', 'cancelStatus': 1, 'update_Time': '2019-03-04 11:32:05'}
2019-03-04 11:32:05,419 - proxy_sever_test - post - 241 - INFO - cost time: 0:00:00.286160
